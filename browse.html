<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Browse - SharePlate</title>
  <link rel="stylesheet" href="browse.css" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    /* Autocomplete suggestions */
    .suggestions {
      position: absolute;
      background: #fff;
      border: 1px solid #ccc;
      border-radius: 10px;
      margin-top: 5px;
      width: 100%;
      max-width: 700px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
      z-index: 5;
      display: none;
    }

    .suggestion-item {
      padding: 10px 15px;
      cursor: pointer;
      transition: background 0.2s;
    }

    .suggestion-item:hover {
      background-color: #f0f0f0;
    }

    .search-container {
      position: relative;
    }

    .placeholder {
      flex: 1;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 22px;
      color: #888;
      height: 300px;
      text-align: center;
    }
  </style>
</head>
<body>
  <!-- Navigation -->
  <nav class="top-nav">
    <div class="logo">
      <img src="images/logo.png" alt="SharePlate Logo">
    </div>
    <div class="menu">
      <a href="index.html" class="nav-item">Home</a>
      <a href="browse.html" class="nav-item active">Browse</a>
      <a href="addfood.html" class="nav-item">Add Food</a>
      <a href="yourorders.html" class="nav-item">Your Orders</a>
      <a href="#" class="nav-item">More</a>
      <a href="signin.html" class="nav-item sign-in-btn">Sign In</a>
    </div>
  </nav>

  <!-- Banner / Hero Section -->
  <section class="banner">
    <video autoplay muted loop class="banner-video">
      <source src="images/banner.mp4" type="video/mp4">
      Your browser does not support HTML5 video.
    </video>
    <div class="banner-overlay">
      <h1>Explore Delicious Recipes</h1>
    </div>
  </section>

  <!-- Search Bar Section -->
  <section class="search-section">
    <div class="search-container">
      <input type="text" placeholder="Find Your Favorite Dish..." class="search-input">
      <button class="search-button">Search</button>
      <div class="suggestions" id="suggestions"></div>
    </div>
  </section>

  <!-- Browse Section -->
  <section class="browse-section">
    <div class="browse-container">
      <!-- Explore Buttons / Categories -->
      <div class="explore-side">
        <button class="explore-card" onclick="showCategory('fruits')">Fruits</button>
        <button class="explore-card" onclick="showCategory('vegetables')">Vegetables</button>
        <button class="explore-card" onclick="showCategory('desserts')">Desserts</button>
        <button class="explore-card" onclick="showCategory('beverages')">Beverages</button>
        <button class="explore-card" onclick="showCategory('snacks')">Snacks</button>
      </div>

      <!-- Food Cards & Placeholder -->
      <div class="food-cards-wrapper" style="flex:1; position:relative;">
        <div class="placeholder" id="placeholder">Choose a category or search for a dish</div>
        <div class="food-cards" id="food-cards">
          <!-- Fruits -->
          <div class="food-card category-fruits">
            <img src="images/apple.jpeg" alt="Apple">
            <div class="overlay">
              <h3>Apple</h3>
              <button class="order-btn" onclick="openOrderModal('Apple')">Order</button>
            </div>
            <span class="favorite-icon" onclick="toggleFavorite(this)">&#10084;</span>
          </div>
          <div class="food-card category-fruits">
            <img src="images/banana.webp" alt="Banana">
            <div class="overlay">
              <h3>Banana</h3>
              <button class="order-btn" onclick="openOrderModal('Banana')">Order</button>
            </div>
            <span class="favorite-icon" onclick="toggleFavorite(this)">&#10084;</span>
          </div>
          <div class="food-card category-fruits">
            <img src="images/orange.jpg" alt="Orange">
            <div class="overlay">
              <h3>Oranges</h3>
              <button class="order-btn" onclick="openOrderModal('Oranges')">Order</button>
            </div>
            <span class="favorite-icon" onclick="toggleFavorite(this)">&#10084;</span>
          </div>

          <!-- Vegetables -->
          <div class="food-card category-vegetables">
            <img src="images/carrot.webp" alt="Carrot">
            <div class="overlay">
              <h3>Carrot</h3>
              <button class="order-btn" onclick="openOrderModal('Carrot')">Order</button>
            </div>
            <span class="favorite-icon" onclick="toggleFavorite(this)">&#10084;</span>
          </div>
          <div class="food-card category-vegetables">
            <img src="images/broccoli.jpeg" alt="Broccoli">
            <div class="overlay">
              <h3>Broccoli</h3>
              <button class="order-btn" onclick="openOrderModal('Broccoli')">Order</button>
            </div>
            <span class="favorite-icon" onclick="toggleFavorite(this)">&#10084;</span>
          </div>

          <!-- Desserts -->
          <div class="food-card category-desserts">
            <img src="images/cake.jpg" alt="Chocolate Cake">
            <div class="overlay">
              <h3>Chocolate Cake</h3>
              <button class="order-btn" onclick="openOrderModal('Chocolate Cake')">Order</button>
            </div>
            <span class="favorite-icon" onclick="toggleFavorite(this)">&#10084;</span>
          </div>
          <div class="food-card category-desserts">
            <img src="images/icecream.jpg" alt="Ice Cream">
            <div class="overlay">
              <h3>Ice Cream</h3>
              <button class="order-btn" onclick="openOrderModal('Ice Cream')">Order</button>
            </div>
            <span class="favorite-icon" onclick="toggleFavorite(this)">&#10084;</span>
          </div>

          <!-- Beverages -->
          <div class="food-card category-beverages">
            <img src="images/coffee.jpeg" alt="Coffee">
            <div class="overlay">
              <h3>Coffee</h3>
              <button class="order-btn" onclick="openOrderModal('Coffee')">Order</button>
            </div>
            <span class="favorite-icon" onclick="toggleFavorite(this)">&#10084;</span>
          </div>
          <div class="food-card category-beverages">
            <img src="images/juice.avif" alt="Juice">
            <div class="overlay">
              <h3>Juice</h3>
              <button class="order-btn" onclick="openOrderModal('Juice')">Order</button>
            </div>
            <span class="favorite-icon" onclick="toggleFavorite(this)">&#10084;</span>
          </div>

          <!-- Snacks -->
          <div class="food-card category-snacks">
            <img src="images/chips.jpg" alt="Chips">
            <div class="overlay">
              <h3>Chips</h3>
              <button class="order-btn" onclick="openOrderModal('Chips')">Order</button>
            </div>
            <span class="favorite-icon" onclick="toggleFavorite(this)">&#10084;</span>
          </div>
          <div class="food-card category-snacks">
            <img src="images/nuts.jpeg" alt="Nuts">
            <div class="overlay">
              <h3>Nuts</h3>
              <button class="order-btn" onclick="openOrderModal('Nuts')">Order</button>
            </div>
            <span class="favorite-icon" onclick="toggleFavorite(this)">&#10084;</span>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Order Modal -->
  <div class="order-modal" id="order-modal">
    <div class="order-modal-content">
      <span class="close-btn" id="close-modal">&times;</span>
      <h2 id="modal-food-name">Food Name</h2>
      <input type="number" id="quantity" min="1" value="1" placeholder="Quantity">
      <button class="submit-order" id="submit-order">Place Order</button>
    </div>
  </div>

  <script>
    const navItems = document.querySelectorAll('.menu .nav-item');
    const buttons = document.querySelectorAll('.explore-card');
    const cards = document.querySelectorAll('.food-card');
    const searchInput = document.querySelector('.search-input');
    const suggestionsContainer = document.getElementById('suggestions');
    const placeholder = document.getElementById('placeholder');

    let currentCategory = '';

    // Navbar active link
    navItems.forEach(item => {
      item.addEventListener('click', () => {
        navItems.forEach(i => i.classList.remove('active'));
        item.classList.add('active');
      });
    });

    function showCategory(category) {
      currentCategory = category;
      buttons.forEach(btn => btn.classList.remove('active'));
      event.target.classList.add('active');
      placeholder.style.display = 'none';
      filterCards();
    }

    function filterCards() {
      const query = searchInput.value.toLowerCase().trim();
      let delay = 0;
      let suggestionHTML = '';
      let anyVisible = false;

      cards.forEach(card => {
        const name = card.querySelector('h3').textContent.toLowerCase();
        const isCategoryMatch = currentCategory ? card.classList.contains('category-' + currentCategory) : true;
        const isSearchMatch = name.includes(query) || query === '';

        if (isCategoryMatch && isSearchMatch) {
          card.style.display = 'block';
          setTimeout(() => card.classList.add('show'), delay);
          delay += 100;
          anyVisible = true;

          if (query.length > 0) {
            suggestionHTML += `<div class="suggestion-item" onclick="selectSuggestion('${card.querySelector('h3').textContent}')">${card.querySelector('h3').textContent}</div>`;
          }
        } else {
          card.classList.remove('show');
          setTimeout(() => card.style.display = 'none', 300);
        }
      });

      if (suggestionHTML) {
        suggestionsContainer.innerHTML = suggestionHTML;
        suggestionsContainer.style.display = 'block';
      } else {
        suggestionsContainer.style.display = 'none';
      }

      placeholder.style.display = anyVisible ? 'none' : 'flex';
    }

    function selectSuggestion(text) {
      searchInput.value = text;
      suggestionsContainer.style.display = 'none';
      placeholder.style.display = 'none';
      filterCards();
    }

    searchInput.addEventListener('input', filterCards);
    searchInput.addEventListener('keydown', e => { if (e.key === 'Enter') filterCards(); });
    document.querySelector('.search-button').addEventListener('click', filterCards);

    window.addEventListener('load', () => { 
      cards.forEach(card => card.style.display = 'none'); 
      placeholder.style.display = 'flex';
    });

    // Favorite toggle
    function toggleFavorite(el) {
      el.classList.toggle('active');
    }

    // Order Modal Logic
    const orderModal = document.getElementById('order-modal');
    const closeModal = document.getElementById('close-modal');
    const modalFoodName = document.getElementById('modal-food-name');

    function openOrderModal(foodName) {
      modalFoodName.textContent = foodName;
      orderModal.style.display = 'flex';
    }

    closeModal.addEventListener('click', () => {
      orderModal.style.display = 'none';
    });

    window.addEventListener('click', (e) => {
      if (e.target == orderModal) {
        orderModal.style.display = 'none';
      }
    });

    document.getElementById('submit-order').addEventListener('click', () => {
    const quantity = document.getElementById('quantity').value;
    const foodName = document.getElementById('modal-food-name').textContent;
    
    if(quantity < 1) {
        alert('Please enter a valid quantity.');
        return;
    }

    // For now, just show a confirmation message
    alert(`Order placed: ${quantity} x ${foodName}`);
    document.getElementById('order-modal').style.display = 'none';
});
  </script>

  <!-- Footer -->
  <footer class="footer">
    &copy; 2025 SharePlate. All rights reserved.
  </footer>
</body>
</html>
